<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="12.css">
</head>

<body>

    <h1>Shopping cart
        <img src="shopping-cart-white-icon.png" width="50px" height="50px">
    </h1>

    <table border="1" align="center" cellpadding="10" cellspacing="0">
        <thead>
            <tr>
                <th>Photo</th>
                <th>Game Name</th>
                <th>Price</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="cart-body">
            <tr>
                <td><img src="C:\Users\medos\OneDrive\Desktop\web-project\web-project - Copy\r6_game.jpg"
                        alt="Rainbow Six Siege" width="150"></td>
                <td>Tom Clancy's Rainbow Six Siege</td>
                <td class="price">$60</td>
                <td>
                    <button class="delete-btn">Delete</button>
                    <button class="buy-btn">Buy</button>
                </td>
            </tr>
            <tr>
                <td><img src="C:\Users\medos\OneDrive\Desktop\web-project\web-project - Copy\fifa24.jpg" alt="FIFA 24"
                        width="100"></td>
                <td>FIFA 24</td>
                <td class="price">$50</td>
                <td>
                    <button class="delete-btn">Delete</button>
                    <button class="buy-btn">Buy</button>
                </td>
            </tr>
            <tr>
                <td><img src="C:\Users\medos\OneDrive\Desktop\web-project\web-project - Copy\Grand_Theft_Auto_V.png"
                        alt="GTA V" width="100"></td>
                <td>GTA V</td>
                <td class="price">$60</td>
                <td>
                    <button class="delete-btn">Delete</button>
                    <button class="buy-btn">Buy</button>
                </td>
            </tr>
        </tbody>
    </table>


    <div class="total-price">
        <strong>Total: $<span id="total">0</span></strong>
    </div>

    <script>
        let total = 0;

        function updateTotal() {
            document.getElementById("total").textContent = total;
        }

        document.querySelectorAll(".delete-btn").forEach(button => {
            button.addEventListener("click", function () {
                let row = this.closest("tr");
                let price = parseInt(row.querySelector(".price").textContent.replace("$", ""));

                if (row.classList.contains("bought")) {
                    total -= price;
                }

                row.remove();
                updateTotal();
            });
        });

        document.querySelectorAll(".buy-btn").forEach(button => {
            button.addEventListener("click", function () {
                let row = this.closest("tr");
                let price = parseInt(row.querySelector(".price").textContent.replace("$", ""));

                if (!row.classList.contains("bought")) {
                    total += price;
                    row.classList.add("bought");
                    this.style.backgroundColor = "gray";
                    this.textContent = "Bought";
                }

                updateTotal();
            });
        });

        updateTotal();
    </script>

</body>

</html>